# -*- mode: yaml; coding: utf-8 -*-
#
# Schema for the python plugin for cs.spin

python:
    requirements:
        type: list
        help: |
            The list of this project's external Python requirements, that
            have to be installed into the project's virtual
            environment. This excludes requirements stated as
            'install_requires' in setup.py/setup.cfg.
    properties:
        pyenv:
            type: object
            help: TODO
            properties:
                url:
                    type: str
                    help: URL to install pyenv from
                path:
                    type: path
                    help: Path to cache the pyenv sources
                cache:
                    type: path
                    help: Path to cache the Python sources downloaded by pyenv
                python_build:
                    type: path
                    help: Path to the python-build builtin plugin of pyenv
        user_pyenv:
            type: bool
            help: TODO
        nuget:
            type: object
            help: TODO
            properties:
                url:
                    type: str
                    help: URL to install nuget from
                exe:
                    type: path
                    help: Path to nuget executable
                source:
                    type: str
                    help: Index to use for nuget sources
        version:
            type: str
            help: |
                The Python version to use for the whole project when using in the
                context of cs.spin
        use:
            type: str
            help: |
                The use property can be used to specify an alternative Python source to
                use. This is useful to rather use the system Python than the one defined
                in spinfile.yaml
            default: ''
        inst_dir:
            type: path
            help: Path to the installation directory of Python.
        interpreter:
            type: path
            help: The path to the Python interpreter of the instance to use.
        venv:
            type: path
            help: |
                Path to the virtual environment which is used exclusively for the
                project spin is running on
        memo:
            type: path
            help: TODO
        bindir:
            type: path
            help: TODO
        scriptdir:
            type: path
            help: TODO
        python:
            type: path
            help: |
                The python property defines the path to the Python interpreter to use.
        wheelhouse:
            type: path
            help: TODO
        # NOTE: pipconf can't be defined in the schema here, since its data types
        #       are to complex and can't be represented in YAML.
        # pipconf:
        #   type: object
        #   help: TODO
        #   properties:
        #     global:
        #       type: object
        #       help: TODO
        #       properties:
        #         find-links:
        #           type: object
        #           help: TODO
        #           # properties
        # The provisioner type is evaluated during runtime and to complex to
        # represent it in the schema.
        # provisioner:
        #   type:
        #   help: TODO
        devpackages:
            type: list
            help: TODO
        current_package:
            type: object
            help: Install configuration of the current python project
            properties:
                install:
                    type: bool
                    help: Property to determine whether the current package should get installed or not.
                extras:
                    type: list
                    help: The extras of the current package to install.
